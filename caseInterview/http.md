## 网络篇

### 1、TCP 和 UDP
#### TCP
  概念：传输控制协议，是一种可靠、面向字节流的通信协议，把上面应用层交下来的数据看成无结构的字节流来发送
  特点：
    1、TCP充分地实现了数据传输时各种控制功能，可以进行丢包是重发控制，还可以对次序乱掉的分包进行顺序控制
    2、TCP作为一种面向有连接的协议，只有在确认通信对端存在时才会发送数据，从而可以控制通信流量的浪费
    3、根据TCP的这些机制，在IP这种无连接的网络上也能够实现高可靠性的通信(主要通过检测和、序列号、确认应答、重发控制、连接管理以及窗口控制等机制实现)

#### UDP
  概念：用户数据包协议，是一个简单的面向数据报的通信协议，即对应用层交下来的报文，不合并，不拆分，只是在其上面加上首部后就交给了下面的网络层
  特点：
  1、UDP不提供复杂的控制机制，利用IP提供面向无连接的通信服务
  2、传输途中出现丢包，UDP也不负责重发
  3、当包的到达顺序出现乱序时，UDP没有纠正的功能
  4、并且它是将应用程序发来的数据在收到的那一刻，立刻按照原样发送到网络上的一种机制。即使是出现网络拥堵的情况，UDP也无法进行流量控制等避免网络拥塞行为

  区别： 

  | 名称        | TCP                         | UDP |
  | ----       | ----                        | ---- |
  | 可靠性      | 可靠                         | 不可靠 |
  | 连接性      | 面向连接                      | 无连接 |
  | 报  文      | 面向字节流                    | 面向报文 |
  | 效  率      | 传输效率低                    | 传输效率高 |
  | 双共性      | 全双工                        | 一对一、一对多、多对一、多对多 |
  | 流量控制     | 滑动窗口                      | 无 |
  | 拥塞控制     | 慢开始、拥塞避免、快重传、快恢复  | 无 |
  | 传输效率     | 慢                           | 快 |

  1、TCP 是面向连接的协议，建立连接三次握手、断开连接四次挥手，UDP是面向无连接，数据传输前后不连接连接。发送端只负责将数据发送到网络，接收端从消息队列读取
  2、TCP 提供可靠的服务，传输过程采用流量控制、编号与确定、计时器等手段确保数据无差错，不丢失。UDP则尽可能传输数据，单不保证传递交付给对方
  3、TCP 面向字节流，将应用层报文看成一串无结构的字节流，分解为多个TCP报文段传输后，在目的站重新配置。UDP协议面向报文，不拆分应用层报文，只保留报文边界，一次发送一个报文，接收方去除报文首部后，原封不动将报文交给上层应用
  4、TCP 只能点对点全双工通信。UDP支持一对一、一对多、对多一和多对多的交互通信

  eg：
          应用层协议       应用
    TCP：
          SMTP           电子邮件
          TELNET         远程终端接入
          HTTP           万维网
          FTP            文件传输
    UDP:
          DNS            域名转换
          TFTP           文件传输
          SNMP           网路管理
          NFS            远程服务器

TCP 应用场景适用于对效率要求低，对准确性要求高或者要求有链接的场景，而UDP 适用场景为对效率要求高，对准确性要求低的场景

### 2、OSI 七层模型
+ 应用层
  位于OSI参考模型的第七层，其作用是通过应用程序间的交互来完成特定的网络应用
+ 表示层
  使通信的应用程序能够解释交换数据的含义，其位于 OSI 参考模型的第六层，向上为应用层提供服务，向下接收来自会话层的服务
+ 会话层
  负责建立、管理和终止表示层实体之间的通信会话
+ 传输层
  传输层的主要任务是为两台主机进程之间的通信提供服务，处理数据包错误、数据包次序，以及其他一些关键传输问题
  传输层向高层屏蔽了下层数据通信的细节。因此，它是计算机通信体系结构中关键的一层。其中，主要的传输层协议是UDP和TCP
+ 网络层
  主要任务是选择合适的网间路由和交换节点，确保数据按时成功传送
  在发送数据时。网络层把传输层产生的报文或用户数据报封装成分组和包，向下传输到数据链路层
+ 数据链路层
  数据链路层通常也叫做链路层。在物理层和网络层之间。两台主机之间的数据传输，总是在一段一段的链路上传送的，这就需要使用专门的链路层协议
+ 物理层
  作为OSI参考模型中最低的一层，物理层的作用是实现计算机节点之间比特流的透明传送
  该层的主要任务是确定与传输媒体的接口的一些特性(机械特性、电气特性、功能特性、过程特性)
  该层主要是和硬件有关，与软件关系不大

### 3、HTTP1.0/1.1/2.0 区别
+ HTTP1.0
  * 仅仅提供了最简单的认证，这时候用户名和密码还未经加密
  * 浏览器与服务器只保持短暂的连接，浏览器的每次请求都需要与服务器建立一个TCP连接
  * 不支持断点续传，每次都会传送全部的页面和数据
+ HTTP1.1
  默认支持长连接，即在一个TCP连接上可以传送多个HTTP请求和响应。减少了建立和关闭连接的消耗和延迟
  * 引入了持久连接，即TCP连接默认不关闭，可以被多个请求复用
  * 在同一个TCP连接里面，客户端可以同时发送多个请求
  * 虽然允许复用TCP连接，但是同一个TCP连接里面，所有的数据通信是按次序进行的，服务器只有处理完一个请求，才会接着处理下一个请求。如果前面的处理特别慢，后面就会有许多请求排队等着
  * 新增了一些请求方法
  * 新增了一些请求头和响应头
+ HTTP2.0
  性能有很大的提升，如添加的特性：
    * 采用二进制格式而非文本格式
    * 完全多路复用，而非有序并阻塞的、只需一个连接即可实现并行
    * 使用报头压缩，降低开销
    * 服务器推送

### 4、http 状态码
* 1 表示消息
  + 100（客户端继续发送请求，这是临时响应）Continue表示继续，一般在发送post请求时，已发送了 HTTP header之后，服务器端将返回此信息，表示确认，之后发送具体参数信息。
  + 101：服务器根据客户端的请求切换协议，主要用于websocket或http2升级
* 2 表示成功
  + 200（成功）OK表示正常返回信息。
  + 201（已创建）Created表示请求成功并且服务器创建了新的资源。
  + 202（已创建）Accepted表示服务器已接受请求，但尚未处理。
  + 203（非授权信息）服务器已成功处理请求，但返回的信息可能来自另一来源
  + 204（无内容）服务器成功处理请求，但没有返回任何内容
  + 205（重置内容）服务器成功处理请求，但没有返回任何内容
  + 206（部分内容）服务器成功处理了部分请求
* 3 表示重定向
  + 300（多种选择）针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择
  + 301（永久移动）Moved Permanently表示请求的网页已永久移动到新位置
  + 302（临时移动）Found表示临时性重定向
  + 303（查看其他位置）See Other表示临时性重定向，且总是使用GET请求新的URI
  + 304 Not Modified表示自从上次请求后，请求的网页未修改过
  + 305（使用代理）请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理
  + 307（临时重定向）服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求
* 4 表示请求错误
  + 400（错误请求）服务器不理解请求的语法
  + 401（未授权）请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。
  + 403（禁止）服务器拒绝请求
  + 404（未找到）服务器找不到请求的网页
  + 405（方法禁用）禁用请求中指定的方法
  + 406（不接受）无法使用请求的内容特性响应请求的网页
  + 407（需要代理授权）此状态代码与 401（未授权）类似，但指定请求者应当授权使用代理
  + 408（请求超时）服务器等候请求时发生超时
* 5 表示服务器错误
  + 500（服务器内部错误）服务器遇到错误，无法完成请求
  + 501（尚未实施服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码
  + 502（错误网关）服务器作为网关或代理，从上游服务器收到无效响应
  + 503（服务不可用）服务器目前无法使用（由于超载或停机维护）
  + 504（网关超时）服务器作为网关或代理，但是没有及时从上游服务器收到请求
  + 505（HTTP 版本不受支持）服务器不支持请求中所用的 HTTP 协议版本
